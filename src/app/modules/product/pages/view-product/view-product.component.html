<div class="wrapper">
  <div class="spinner" *ngIf="loading; else content">
    <mat-spinner></mat-spinner>
  </div>
  <ng-template #content>
    <div *ngIf="product; else empty">
      <div class="product-wrapper">
        <div class="product-img">
          <div class="product-img-lg text-center">
            <img [src]="product.image" alt="product-image" />
          </div>
          <div class="product-img-sm">
            <div class="sm-img" *ngFor="let img of mini_img">
              <img src="{{ img }}" alt="carousel" />
            </div>
          </div>
        </div>
        <div class="product-details">
          <div class="product-title">
            <h2>{{ product.title }}</h2>
          </div>
          <div class="product-add-fav-share">
            <div class="fav" (click)="onFav()">
              <div *ngIf="like; else dislike">
                <mat-icon class="fav-icon" color="warn">favorite</mat-icon>
              </div>
              <ng-template #dislike>
                <mat-icon class="unfav-icon" color="warn"
                  >favorite_border</mat-icon
                >
              </ng-template>
            </div>
            <div class="share">
              <mat-icon>share</mat-icon>
            </div>
          </div>
          <div class="product-price">
            <h4 style="font-weight: bold">${{ product.price }}</h4>
          </div>
          <div class="product-actions">
            <button class="btn-cart" mat-raised-button color="primary">
              Add to cart
            </button>
            <button class="btn-buy" mat-raised-button color="warn">
              Buy now
            </button>
          </div>
          <div class="product-rating">
            <app-rating [rating]="product.rating.rate"></app-rating>
          </div>
          <div class="product-description">
            <h3 class="desc">Description</h3>
            <p>{{ product.description }}</p>
          </div>
        </div>
      </div>
    </div>
    <ng-template #empty>
      <div class="empty">product unavailable</div>
    </ng-template>
  </ng-template>
</div>
